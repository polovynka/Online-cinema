{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-build/webpack/bootstrap","webpack://webpack-build/webpack/runtime/global","webpack://webpack-build/webpack/runtime/publicPath","webpack://webpack-build/./src/js/menu.js","webpack://webpack-build/./src/js/services.js","webpack://webpack-build/./src/js/renderCards.js","webpack://webpack-build/./src/js/renderVideo.js","webpack://webpack-build/./src/js/menuLink.js","webpack://webpack-build/./src/js/search.js","webpack://webpack-build/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","\nconst toggleMenu = (nav, active) => {\n\n\tnav.classList.toggle(active);\n};\n\n\nconst slideMenu = ({ openBtn, menu, classActiveMenu, closeTrigger }) => {\n\n\tconst burgerBtn = document.querySelector(openBtn);\n\tconst navigation = document.querySelector(menu);\n\tconst naviClose = document.querySelectorAll(closeTrigger);\n\n\tburgerBtn.addEventListener('click', () => {\n\n\t\ttoggleMenu(navigation, classActiveMenu)\n\t});\n\n\tnaviClose.forEach(item => {\n\n\t\titem.addEventListener('click', () => {\n\n\t\t\ttoggleMenu(navigation, classActiveMenu);\n\t\t});\n\t});\n\n\n};\n\nexport default slideMenu;","const API_KEY = '67a5c365ff4299efc12a542bbae82e9d';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst LANG = '&language=ru-RU';\n\n\nconst getData = url =>\n\tfetch(url)\n\t\t.then(response => {\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json()\n\t\t\t}\n\t\t\tthrow `Возникла ошибка ${response.status}`;\n\t\t})\n\t\t.catch(err => console.error(err));\n\nlet url = '';\n\nexport const getPagination = async (page) => {\n\treturn await getData(url + `&page=${page}`);\n};\n\nexport const getTrends = async (type = 'all', period = 'week', page = 1) => {\n\turl = `${BASE_URL}trending/${type}/${period}?api_key=${API_KEY}${LANG}`;\n\treturn await getData(url + `&page=${page}`);\n};\n\nexport const getPopular = async (type, page = 1) => {\n\turl = `${BASE_URL}${type}/popular?api_key=${API_KEY}${LANG}`;\n\treturn await getData(url + `&page=${page}`);\n};\n\nexport const getTop = async (type, page = 1) => {\n\turl = `${BASE_URL}${type}/top_rated?api_key=${API_KEY}${LANG}`;\n\treturn await getData(url + `&page=${page}`);\n};\n\nexport const getVideo = async (type, id) => {\n\tif (type === 'person') return null;//https://api.themoviedb.org/3/movie/{movie_id}/videos?api_key=<<api_key>>&language=en-US\n\tconst url = `${BASE_URL}${type}/${id}/videos?api_key=${API_KEY}${LANG}`;\n\treturn await getData(url);\n};\n\nexport const search = async (query, page = 1) => {\n\turl = `${BASE_URL}search/multi?api_key=${API_KEY}${LANG}&query=${query}&include_adult=false`;\n\treturn await getData(url + `&page=${page}`);\n};\n","import { getVideo, getPagination } from \"./services\";\nimport withoutPoster from '../images/without-poster.jpg';\nconst cardList = document.querySelector('.other-films__list');\nconst buttonWrapper = document.querySelector('.button-pagination');\n\nlet paginationType = '';\n\nconst renderCards = async (data, mediaType) => {\n\n\tcardList.textContent = '';\n\n\tpaginationType = mediaType;\n\tbuttonWrapper.textContent = '';\n\n\tPromise.all(data.results.map(async item => {\n\n\t\tmediaType = item.media_type || mediaType;\n\n\t\tconst video = await getVideo(mediaType, item.id);\n\n\t\tconst key = video?.results[0]?.key;\n\n\t\tconst card = document.createElement('li');\n\t\tcard.className = 'other-films__item';\n\n\t\tconst link = document.createElement('a');\n\t\tif (key) link.href = `https://youtu.be/${key}`;\n\t\tlink.className = 'other-films__link';\n\t\tlink.dataset.rating = item.vote_average.toFixed(1) || '-';\n\n\t\tconst img = new Image;\n\t\timg.className = 'other-films__img';\n\t\timg.alt = `постер ${item.title ?? item.name}`;\n\t\timg.src = item.poster_path ?\n\t\t\t`https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${item.poster_path}` :\n\t\t\twithoutPoster;\n\n\t\tlink.append(img);\n\t\tcard.append(link);\n\n\t\treturn card;\n\t}))\n\t\t.then(cards => cardList.append(...cards))\n\t\t.then(() => {\n\t\t\tif (data.total_pages > 1) {\n\n\t\t\t\tif (data.page > 1) {\n\t\t\t\t\tconst buttonLeft = document.createElement('button');\n\t\t\t\t\tbuttonLeft.classList.add('button-pagination-arrow');\n\t\t\t\t\tbuttonLeft.dataset.page = data.page - 1;\n\t\t\t\t\tbuttonLeft.textContent = '<';\n\t\t\t\t\tbuttonWrapper.append(buttonLeft);\n\t\t\t\t}\n\n\t\t\t\tif (data.page < data.total_pages) {\n\t\t\t\t\tconst buttonRight = document.createElement('button');\n\t\t\t\t\tbuttonRight.classList.add('button-pagination-arrow');\n\t\t\t\t\tbuttonRight.dataset.page = data.page + 1;\n\t\t\t\t\tbuttonRight.textContent = '>';\n\t\t\t\t\tbuttonWrapper.append(buttonRight);\n\t\t\t\t}\n\n\t\t\t\tbuttonWrapper.style.textAlign = 'center';\n\t\t\t\tcardList.insertAdjacentElement('afterend', buttonWrapper);\n\t\t\t}\n\t\t});\n};\n\nbuttonWrapper.addEventListener('click', async event => {\n\tif (event.target.classList.contains('button-pagination-arrow')) {\n\t\tconst data = await getPagination(event.target.dataset.page)\n\t\trenderCards(data, paginationType)\n\t}\n});\n\n\nexport default renderCards;\n","import { getTrends, getVideo } from \"./services\";\nimport renderCards from \"./renderCards\";\n\nconst filmWeek = document.querySelector('.film-week');\n\nconst firstRender = (data, { key }) => {\n\n\tconst {\n\t\tvote_average: voteAverage,\n\t\tbackdrop_path: backdropPath,\n\t\ttitle,\n\t\tname,\n\t\toriginal_title: originalTitle,\n\t\toriginal_name: originalName\n\t} = data;\n\n\tfilmWeek.innerHTML = `\n\t<div class=\"container film-week__container\" data-rating=\"${voteAverage.toFixed(1) ?? '-'}\">\n\t\t<div class=\"film-week__poster-wrapper\">\n                    <img class=\"film-week__poster\" src=\"https://www.themoviedb.org/t/p/w1920_and_h800_multi_faces${backdropPath}\" alt=\"постер ${title ?? name}\">\n                    <p class=\"film-week__title--origin\">${originalTitle ?? originalName}</p>\n                </div>\n                <h2 class=\"film-week__title\">${title ?? name}</h2>\n\t\t\t${key ?\n\t\t\t`<a class=\"film-week__watch-trailer tube\" href=\"https://youtu.be/${key}\" aria-label=\"смотреть трейлер\"></a>`\n\t\t\t: ''}\n            </div>\n\t`\n};\n\n\nconst renderVideo = async () => {\n\tconst data = await getTrends();\n\n\n\tconst [firstCard] = data.results;\n\n\tconst video = await getVideo(firstCard.media_type, firstCard.id);\n\n\n\tfirstRender(firstCard, video.results[0] ?? '');\n\trenderCards(data);\n\n};\n\nexport default renderVideo;","import { getPopular, getTop, getTrends } from \"./services\";\nimport renderCards from \"./renderCards\";\n\n\nconst title = document.querySelector('.other-films__title');\nconst filmWeek = document.querySelector('.film-week');\n\nconst getNav = document.querySelectorAll('.get-nav');\n\n\nconst menuLink = () => {\n\tgetNav.forEach(link => {\n\t\tlink.addEventListener('click', evt => {\n\n\t\t\tconst target = evt.target.closest('.get-nav__link');\n\n\t\t\tif (target) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\tfilmWeek.style.display = 'none';\n\t\t\t\ttitle.textContent = target.textContent;\n\n\t\t\t\tif (target.classList.contains('get-nav__link--triends')) {\n\t\t\t\t\tgetTrends()\n\t\t\t\t\t\t.then(data => renderCards(data))\n\t\t\t\t};\n\n\t\t\t\tif (target.classList.contains('get-nav__link--popular-movies')) {\n\t\t\t\t\tgetPopular('movie')\n\t\t\t\t\t\t.then(data => renderCards(data, 'movie'))\n\t\t\t\t};\n\n\t\t\t\tif (target.classList.contains('get-nav__link--popular-tv')) {\n\t\t\t\t\tgetPopular('tv')\n\t\t\t\t\t\t.then(data => renderCards(data, 'tv'))\n\t\t\t\t};\n\n\t\t\t\tif (target.classList.contains('get-nav__link--top-movies')) {\n\t\t\t\t\tgetTop('movie')\n\t\t\t\t\t\t.then(data => renderCards(data, 'movie'))\n\t\t\t\t};\n\n\t\t\t\tif (target.classList.contains('get-nav__link--top-tv')) {\n\t\t\t\t\tgetTop('tv')\n\t\t\t\t\t\t.then(data => renderCards(data, 'tv'))\n\t\t\t\t};\n\n\t\t\t}\n\t\t})\n\t})\n}\n\n\nexport default menuLink;","import { search as getSearch } from \"./services\";\nimport renderCards from \"./renderCards\";\n\nconst title = document.querySelector('.other-films__title');\nconst filmWeek = document.querySelector('.film-week');\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchInput = document.querySelector('.header__search-input');\n\nsearchForm.addEventListener('submit', evt => {\n\tevt.preventDefault();\n\n\tif (!searchInput.value) return;\n\n\tgetSearch(searchInput.value)\n\t\t.then(data => {\n\t\t\tif (data.results.length) {\n\t\t\t\trenderCards(data)\n\t\t\t} else {\n\t\t\t\tthrow 'К сожалению ничего не найдено'\n\t\t\t}\n\t\t})\n\t\t.then(() => {\n\t\t\tfilmWeek.remove();\n\t\t\ttitle.textContent = 'Результаты поиска';\n\t\t})\n\t\t.catch(err => {\n\t\t\ttitle.textContent = err;\n\t\t})\n})\n\nconst search = () => {\n\n}\n\nexport default search;","import slideMenu from \"./js/menu.js\";\nimport styles from './styles/style.css';\nimport renderVideo from './js/renderVideo.js';\nimport menuLink from './js/menuLink.js';\nimport search from './js/search';\n\nslideMenu({\n\topenBtn: '.header__burger-btn',\n\tmenu: '.navigation',\n\tclassActiveMenu: 'navigation_active',\n\tcloseTrigger: '.navigation__link, .navigation__close',\n\n});\n\nsearch();\nrenderVideo();\nmenuLink();"],"names":["__webpack_require__","g","globalThis","this","Function","e","window","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","Error","replace","p","toggleMenu","nav","active","classList","toggle","API_KEY","BASE_URL","LANG","getData","url","fetch","then","response","ok","json","status","catch","err","console","error","getTrends","async","type","period","page","getPopular","getTop","getVideo","id","cardList","querySelector","buttonWrapper","paginationType","renderCards","data","mediaType","textContent","Promise","all","results","map","item","media_type","video","key","card","createElement","className","link","href","dataset","rating","vote_average","toFixed","img","Image","alt","title","name","poster_path","withoutPoster","append","cards","total_pages","buttonLeft","add","buttonRight","style","textAlign","insertAdjacentElement","addEventListener","event","target","contains","getPagination","filmWeek","getNav","querySelectorAll","searchForm","searchInput","evt","preventDefault","value","query","getSearch","remove","openBtn","menu","classActiveMenu","closeTrigger","burgerBtn","navigation","naviClose","forEach","slideMenu","firstCard","voteAverage","backdrop_path","backdropPath","original_title","originalTitle","original_name","originalName","innerHTML","firstRender","renderVideo","closest","display"],"sourceRoot":""}